(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{77:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return i})),n.d(a,"metadata",(function(){return d})),n.d(a,"toc",(function(){return c})),n.d(a,"default",(function(){return b}));var r=n(3),t=n(7),o=(n(0),n(104)),i={id:"compile",title:"Build"},d={unversionedId:"frida/compile",id:"frida/compile",isDocsHomePage:!1,title:"Build",description:"Compile frida-java-bridge",source:"@site/docs/frida/compile.md",slug:"/frida/compile",permalink:"/docs/frida/compile",editUrl:"https://github.com/i01y/pribook/edit/master/website/docs/frida/compile.md",version:"current",sidebar:"frida",previous:{title:"Frida",permalink:"/docs/frida/"}},c=[{value:"Compile frida-java-bridge",id:"compile-frida-java-bridge",children:[{value:"Installation dependencies",id:"installation-dependencies",children:[]},{value:"Config Env",id:"config-env",children:[]},{value:"Download source",id:"download-source",children:[]},{value:"make",id:"make",children:[]},{value:"error record",id:"error-record",children:[]}]}],l={toc:c};function b(e){var a=e.components,n=Object(t.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:a,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"compile-frida-java-bridge"},"Compile frida-java-bridge"),Object(o.b)("h3",{id:"installation-dependencies"},"Installation dependencies"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# install Node.js Current\ncurl -sL https://deb.nodesource.com/setup_current.x | sudo -E bash -\nsudo apt install -y curl git nodejs build-essential\n")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"download ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html"}),"jdk 1.8"))),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"tar -zxvf  jdk-8u281-linux-x64.tar.gz ~/work/\n")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"install Android SDK,NDK")),Object(o.b)("p",null,"Download with android studio"),Object(o.b)("h3",{id:"config-env"},"Config Env"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# java\nexport JAVA_HOME=/home/i/work/jdk1.8.0_281\nexport JRE_HOME=${JAVA_HOME}/jre\nexport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib\nexport PATH=${JAVA_HOME}/bin:$PATH\n\n# android sdk\nexport ANDROID_SDK_HOME=$HOME/Android/Sdk\nexport PATH=$PATH:${ANDROID_SDK_HOME}/tools\nexport PATH=$PATH:${ANDROID_SDK_HOME}/build-tools/30.0.3\nexport PATH=$PATH:${ANDROID_SDK_HOME}/platform-tools\n\n# android ndk\nexport NDK_HOME=$HOME/Android/Sdk/ndk/22.0.7026061\nexport PATH=$NDK_HOME:$PATH\n")),Object(o.b)("h3",{id:"download-source"},"Download source"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"git clone https://github.com/frida/frida-java-bridge.git\ncd frida-java-bridge\ncd test\nvim config.mk\n")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Change as follows")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# Your ANDROID SDK ROOT\nANDROID_SDK_ROOT ?= $(shell echo ~/Android/Sdk)\n# Your ANDROID NDK ROOT\nANDROID_NDK_ROOT ?= ~/Android/Sdk/ndk/22.0.7026061\nANDROID_ARCH ?= arm64\nANDROID_ABI ?= arm64-v8a\nANDROID_API_LEVEL ?= 29\nANDROID_BINDIR ?= /system/bin\nANDROID_LIBDIR ?= /system/lib64\nAPEX_LIBDIRS ?= /apex/com.android.runtime/$(shell basename $(ANDROID_LIBDIR)):/apex/com.android.art/$(shell basename $(ANDROID_LIBDIR))\nDEBUG_PORT ?= 5042\n")),Object(o.b)("h3",{id:"make"},"make"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"cd frida-java-bridge\nmkae check\n")),Object(o.b)("h3",{id:"error-record"},"error record"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"adb: no devices",Object(o.b)("inlineCode",{parentName:"p"},"/"),"emulators found"),Object(o.b)("p",{parentName:"li"},"Connect the device to the computer or start the emulator")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"adb no permissions"),Object(o.b)("blockquote",{parentName:"li"},Object(o.b)("pre",{parentName:"blockquote"},Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-dart"}),"adb devices\nList of devices attached\nFA69H0308097    no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]\n"))),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://stackoverflow.com/questions/49216585/no-permissions-user-in-plugdev-group-are-your-udev-rules-wrong"}),'"Charge this phone" to "PTP" (Picture Transfer Protocol).')))))}b.isMDXComponent=!0}}]);